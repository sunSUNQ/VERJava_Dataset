commit b324008d45d945473f75ce78d16ae83de6886fdf
Author: Daniel Couso <daniel.couso@liferay.com>
Date:   Mon May 18 16:12:12 2020 +0200

    LPS-113314 Check also url in WorkflowTaskBaseMVCActionCommand

diff --git a/modules/apps/portal-workflow/portal-workflow-task-web/src/main/java/com/liferay/portal/workflow/task/web/internal/portlet/action/WorkflowTaskBaseMVCActionCommand.java b/modules/apps/portal-workflow/portal-workflow-task-web/src/main/java/com/liferay/portal/workflow/task/web/internal/portlet/action/WorkflowTaskBaseMVCActionCommand.java
index 22aef6d9d59e..3f0ff59a8fec 100644
--- a/modules/apps/portal-workflow/portal-workflow-task-web/src/main/java/com/liferay/portal/workflow/task/web/internal/portlet/action/WorkflowTaskBaseMVCActionCommand.java
+++ b/modules/apps/portal-workflow/portal-workflow-task-web/src/main/java/com/liferay/portal/workflow/task/web/internal/portlet/action/WorkflowTaskBaseMVCActionCommand.java
@@ -74,7 +74,11 @@ public abstract class WorkflowTaskBaseMVCActionCommand
 				closeRedirect);
 		}
 
-		actionRequest.setAttribute(WebKeys.REDIRECT, redirect);
+		redirect = PortalUtil.escapeRedirect(redirect);
+
+		if (Validator.isNotNull(redirect)) {
+			actionRequest.setAttribute(WebKeys.REDIRECT, redirect);
+		}
 	}
 
 }
\ No newline at end of file