commit e3dccfd168b24c24726f3b763c5d2255c6be6d1d
Author: Istvan Sajtos <istvan.sajtos@liferay.com>
Date:   Tue Sep 15 15:16:56 2020 +0200

    LPS-120938 Only company admins can edit company admins

diff --git a/portal-impl/src/com/liferay/portal/service/permission/UserPermissionImpl.java b/portal-impl/src/com/liferay/portal/service/permission/UserPermissionImpl.java
index 50a3f43d077c..02e06e48b168 100644
--- a/portal-impl/src/com/liferay/portal/service/permission/UserPermissionImpl.java
+++ b/portal-impl/src/com/liferay/portal/service/permission/UserPermissionImpl.java
@@ -102,7 +102,9 @@ public class UserPermissionImpl
 
 				if (!actionId.equals(ActionKeys.VIEW) &&
 					!permissionChecker.isOmniadmin() &&
-					PortalUtil.isOmniadmin(user)) {
+					(PortalUtil.isOmniadmin(user) ||
+					 (!permissionChecker.isCompanyAdmin() &&
+					  PortalUtil.isCompanyAdmin(user)))) {
 
 					return false;
 				}