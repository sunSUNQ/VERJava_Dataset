commit 3f5d547f37c7d6408cea872dfd959d51c3f352ee
Author: Mika Koivisto <mika.koivisto@liferay.com>
Date:   Thu Apr 21 13:29:25 2016 +0300

    LPS-64814 Apply to module

diff --git a/modules/apps/foundation/petra/petra-encryptor/src/main/java/com/liferay/petra/encryptor/Encryptor.java b/modules/apps/foundation/petra/petra-encryptor/src/main/java/com/liferay/petra/encryptor/Encryptor.java
index d4f22df56f61..7be96b9b3b2d 100644
--- a/modules/apps/foundation/petra/petra-encryptor/src/main/java/com/liferay/petra/encryptor/Encryptor.java
+++ b/modules/apps/foundation/petra/petra-encryptor/src/main/java/com/liferay/petra/encryptor/Encryptor.java
@@ -37,10 +37,12 @@ import java.util.concurrent.ConcurrentHashMap;
 
 import javax.crypto.Cipher;
 import javax.crypto.KeyGenerator;
+import javax.crypto.spec.SecretKeySpec;
 
 /**
  * @author Brian Wing Shun Chan
  * @author Shuyang Zhou
+ * @author Mika Koivisto
  * @see com.liferay.util.Encryptor
  */
 public class Encryptor {
@@ -117,6 +119,12 @@ public class Encryptor {
 		}
 	}
 
+	public static Key deserializeKey(String base64String) {
+		byte[] encodedKey = Base64.decode(base64String);
+
+		return new SecretKeySpec(encodedKey, Encryptor.KEY_ALGORITHM);
+	}
+
 	public static String digest(String text) {
 		return DigesterUtil.digest(text);
 	}
@@ -245,6 +253,10 @@ public class Encryptor {
 		return (Provider)providerClass.newInstance();
 	}
 
+	public static String serializeKey(Key key) {
+		return Base64.encode(key.getEncoded());
+	}
+
 	private static final Log _log = LogFactoryUtil.getLog(Encryptor.class);
 
 	private static final Map<String, Cipher> _decryptCipherMap =