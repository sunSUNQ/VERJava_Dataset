[{"cve_id": "liferay-portal", "added_line": [{"target_line_num": 1216, "target_line_code": "_getLayoutsParameterTypes27);"}, {"target_line_num": 1243, "target_line_code": "public static int getLayoutsCount("}, {"target_line_num": 1244, "target_line_code": "HttpPrincipal httpPrincipal,"}, {"target_line_num": 1245, "target_line_code": "com.liferay.portal.kernel.model.Group group, boolean privateLayout,"}, {"target_line_num": 1246, "target_line_code": "String keywords, String[] types)"}, {"target_line_num": 1247, "target_line_code": "throws com.liferay.portal.kernel.exception.PortalException {"}, {"target_line_num": 1249, "target_line_code": "try {"}, {"target_line_num": 1250, "target_line_code": "MethodKey methodKey = new MethodKey("}, {"target_line_num": 1251, "target_line_code": "LayoutServiceUtil.class, \"getLayoutsCount\","}, {"target_line_num": 1252, "target_line_code": "_getLayoutsCountParameterTypes28);"}, {"target_line_num": 1254, "target_line_code": "MethodHandler methodHandler = new MethodHandler("}, {"target_line_num": 1255, "target_line_code": "methodKey, group, privateLayout, keywords, types);"}, {"target_line_num": 1257, "target_line_code": "Object returnObj = null;"}, {"target_line_num": 1259, "target_line_code": "try {"}, {"target_line_num": 1260, "target_line_code": "returnObj = TunnelUtil.invoke(httpPrincipal, methodHandler);"}, {"target_line_num": 1262, "target_line_code": "catch (Exception exception) {"}, {"target_line_num": 1263, "target_line_code": "if (exception instanceof"}, {"target_line_num": 1264, "target_line_code": "com.liferay.portal.kernel.exception.PortalException) {"}, {"target_line_num": 1266, "target_line_code": "throw (com.liferay.portal.kernel.exception.PortalException)"}, {"target_line_num": 1267, "target_line_code": "exception;"}, {"target_line_num": 1270, "target_line_code": "throw new com.liferay.portal.kernel.exception.SystemException("}, {"target_line_num": 1271, "target_line_code": "exception);"}, {"target_line_num": 1274, "target_line_code": "return ((Integer)returnObj).intValue();"}, {"target_line_num": 1276, "target_line_code": "catch (com.liferay.portal.kernel.exception.SystemException"}, {"target_line_num": 1277, "target_line_code": "systemException) {"}, {"target_line_num": 1279, "target_line_code": "_log.error(systemException, systemException);"}, {"target_line_num": 1281, "target_line_code": "throw systemException;"}, {"target_line_num": 1291, "target_line_code": "_getLayoutsCountParameterTypes29);"}, {"target_line_num": 1324, "target_line_code": "_getLayoutsCountParameterTypes30);"}, {"target_line_num": 1357, "target_line_code": "_getLayoutsCountParameterTypes31);"}, {"target_line_num": 1389, "target_line_code": "_getLayoutsCountParameterTypes32);"}, {"target_line_num": 1422, "target_line_code": "_getTempFileNamesParameterTypes33);"}, {"target_line_num": 1463, "target_line_code": "_hasLayoutParameterTypes34);"}, {"target_line_num": 1503, "target_line_code": "_hasPortletIdParameterTypes35);"}, {"target_line_num": 1547, "target_line_code": "_schedulePublishToLiveParameterTypes36);"}, {"target_line_num": 1592, "target_line_code": "_schedulePublishToRemoteParameterTypes37);"}, {"target_line_num": 1634, "target_line_code": "_setLayoutsParameterTypes38);"}, {"target_line_num": 1672, "target_line_code": "_unschedulePublishToLiveParameterTypes39);"}, {"target_line_num": 1709, "target_line_code": "_unschedulePublishToRemoteParameterTypes40);"}, {"target_line_num": 1745, "target_line_code": "_updateIconImageParameterTypes41);"}, {"target_line_num": 1795, "target_line_code": "_updateLayoutParameterTypes42);"}, {"target_line_num": 1848, "target_line_code": "_updateLayoutParameterTypes43);"}, {"target_line_num": 1892, "target_line_code": "_updateLayoutParameterTypes44);"}, {"target_line_num": 1933, "target_line_code": "_updateLookAndFeelParameterTypes45);"}, {"target_line_num": 1975, "target_line_code": "_updateNameParameterTypes46);"}, {"target_line_num": 2016, "target_line_code": "_updateNameParameterTypes47);"}, {"target_line_num": 2057, "target_line_code": "_updateParentLayoutIdParameterTypes48);"}, {"target_line_num": 2097, "target_line_code": "_updateParentLayoutIdParameterTypes49);"}, {"target_line_num": 2139, "target_line_code": "_updateParentLayoutIdAndPriorityParameterTypes50);"}, {"target_line_num": 2180, "target_line_code": "_updatePriorityParameterTypes51);"}, {"target_line_num": 2221, "target_line_code": "_updatePriorityParameterTypes52);"}, {"target_line_num": 2262, "target_line_code": "_updatePriorityParameterTypes53);"}, {"target_line_num": 2302, "target_line_code": "_updateTypeParameterTypes54);"}, {"target_line_num": 2433, "target_line_code": "long.class, boolean.class, String.class, String[].class, int.class,"}, {"target_line_num": 2434, "target_line_code": "int.class, com.liferay.portal.kernel.util.OrderByComparator.class"}, {"target_line_num": 2437, "target_line_code": "long.class, String.class"}, {"target_line_num": 2438, "target_line_code": "};"}, {"target_line_num": 2439, "target_line_code": "private static final Class<?>[] _getLayoutsParameterTypes27 = new Class[] {"}, {"target_line_num": 2443, "target_line_code": "new Class[] {"}, {"target_line_num": 2444, "target_line_code": "com.liferay.portal.kernel.model.Group.class, boolean.class,"}, {"target_line_num": 2445, "target_line_code": "String.class, String[].class"}, {"target_line_num": 2446, "target_line_code": "};"}, {"target_line_num": 2448, "target_line_code": "new Class[] {long.class, boolean.class};"}, {"target_line_num": 2450, "target_line_code": "new Class[] {long.class, boolean.class, long.class};"}, {"target_line_num": 2451, "target_line_code": "private static final Class<?>[] _getLayoutsCountParameterTypes31 ="}, {"target_line_num": 2452, "target_line_code": "new Class[] {long.class, boolean.class, long.class, int.class};"}, {"target_line_num": 2453, "target_line_code": "private static final Class<?>[] _getLayoutsCountParameterTypes32 ="}, {"target_line_num": 2455, "target_line_code": "private static final Class<?>[] _getTempFileNamesParameterTypes33 ="}, {"target_line_num": 2457, "target_line_code": "private static final Class<?>[] _hasLayoutParameterTypes34 = new Class[] {"}, {"target_line_num": 2460, "target_line_code": "private static final Class<?>[] _hasPortletIdParameterTypes35 ="}, {"target_line_num": 2462, "target_line_code": "private static final Class<?>[] _schedulePublishToLiveParameterTypes36 ="}, {"target_line_num": 2468, "target_line_code": "private static final Class<?>[] _schedulePublishToRemoteParameterTypes37 ="}, {"target_line_num": 2476, "target_line_code": "private static final Class<?>[] _setLayoutsParameterTypes38 = new Class[] {"}, {"target_line_num": 2480, "target_line_code": "private static final Class<?>[] _unschedulePublishToLiveParameterTypes39 ="}, {"target_line_num": 2482, "target_line_code": "private static final Class<?>[] _unschedulePublishToRemoteParameterTypes40 ="}, {"target_line_num": 2484, "target_line_code": "private static final Class<?>[] _updateIconImageParameterTypes41 ="}, {"target_line_num": 2486, "target_line_code": "private static final Class<?>[] _updateLayoutParameterTypes42 ="}, {"target_line_num": 2494, "target_line_code": "private static final Class<?>[] _updateLayoutParameterTypes43 ="}, {"target_line_num": 2502, "target_line_code": "private static final Class<?>[] _updateLayoutParameterTypes44 ="}, {"target_line_num": 2504, "target_line_code": "private static final Class<?>[] _updateLookAndFeelParameterTypes45 ="}, {"target_line_num": 2509, "target_line_code": "private static final Class<?>[] _updateNameParameterTypes46 = new Class[] {"}, {"target_line_num": 2512, "target_line_code": "private static final Class<?>[] _updateNameParameterTypes47 = new Class[] {"}, {"target_line_num": 2515, "target_line_code": "private static final Class<?>[] _updateParentLayoutIdParameterTypes48 ="}, {"target_line_num": 2517, "target_line_code": "private static final Class<?>[] _updateParentLayoutIdParameterTypes49 ="}, {"target_line_num": 2520, "target_line_code": "_updateParentLayoutIdAndPriorityParameterTypes50 = new Class[] {"}, {"target_line_num": 2523, "target_line_code": "private static final Class<?>[] _updatePriorityParameterTypes51 ="}, {"target_line_num": 2525, "target_line_code": "private static final Class<?>[] _updatePriorityParameterTypes52 ="}, {"target_line_num": 2529, "target_line_code": "private static final Class<?>[] _updatePriorityParameterTypes53 ="}, {"target_line_num": 2531, "target_line_code": "private static final Class<?>[] _updateTypeParameterTypes54 = new Class[] {"}], "removed_line": [{"source_line_num": 1169, "source_line_code": "_getLayoutsParameterTypes26);"}, {"source_line_num": 1202, "source_line_code": "_getLayoutsCountParameterTypes27);"}, {"source_line_num": 1235, "source_line_code": "_getLayoutsCountParameterTypes28);"}, {"source_line_num": 1268, "source_line_code": "_getLayoutsCountParameterTypes29);"}, {"source_line_num": 1300, "source_line_code": "_getLayoutsCountParameterTypes30);"}, {"source_line_num": 1333, "source_line_code": "_getTempFileNamesParameterTypes31);"}, {"source_line_num": 1374, "source_line_code": "_hasLayoutParameterTypes32);"}, {"source_line_num": 1414, "source_line_code": "_hasPortletIdParameterTypes33);"}, {"source_line_num": 1458, "source_line_code": "_schedulePublishToLiveParameterTypes34);"}, {"source_line_num": 1503, "source_line_code": "_schedulePublishToRemoteParameterTypes35);"}, {"source_line_num": 1545, "source_line_code": "_setLayoutsParameterTypes36);"}, {"source_line_num": 1583, "source_line_code": "_unschedulePublishToLiveParameterTypes37);"}, {"source_line_num": 1620, "source_line_code": "_unschedulePublishToRemoteParameterTypes38);"}, {"source_line_num": 1656, "source_line_code": "_updateIconImageParameterTypes39);"}, {"source_line_num": 1706, "source_line_code": "_updateLayoutParameterTypes40);"}, {"source_line_num": 1759, "source_line_code": "_updateLayoutParameterTypes41);"}, {"source_line_num": 1803, "source_line_code": "_updateLayoutParameterTypes42);"}, {"source_line_num": 1844, "source_line_code": "_updateLookAndFeelParameterTypes43);"}, {"source_line_num": 1886, "source_line_code": "_updateNameParameterTypes44);"}, {"source_line_num": 1927, "source_line_code": "_updateNameParameterTypes45);"}, {"source_line_num": 1968, "source_line_code": "_updateParentLayoutIdParameterTypes46);"}, {"source_line_num": 2008, "source_line_code": "_updateParentLayoutIdParameterTypes47);"}, {"source_line_num": 2050, "source_line_code": "_updateParentLayoutIdAndPriorityParameterTypes48);"}, {"source_line_num": 2091, "source_line_code": "_updatePriorityParameterTypes49);"}, {"source_line_num": 2132, "source_line_code": "_updatePriorityParameterTypes50);"}, {"source_line_num": 2173, "source_line_code": "_updatePriorityParameterTypes51);"}, {"source_line_num": 2213, "source_line_code": "_updateTypeParameterTypes52);"}, {"source_line_num": 2344, "source_line_code": "long.class, String.class"}, {"source_line_num": 2349, "source_line_code": "private static final Class<?>[] _getLayoutsCountParameterTypes27 ="}, {"source_line_num": 2350, "source_line_code": "new Class[] {long.class, boolean.class};"}, {"source_line_num": 2352, "source_line_code": "new Class[] {long.class, boolean.class, long.class};"}, {"source_line_num": 2354, "source_line_code": "new Class[] {long.class, boolean.class, long.class, int.class};"}, {"source_line_num": 2357, "source_line_code": "private static final Class<?>[] _getTempFileNamesParameterTypes31 ="}, {"source_line_num": 2359, "source_line_code": "private static final Class<?>[] _hasLayoutParameterTypes32 = new Class[] {"}, {"source_line_num": 2362, "source_line_code": "private static final Class<?>[] _hasPortletIdParameterTypes33 ="}, {"source_line_num": 2364, "source_line_code": "private static final Class<?>[] _schedulePublishToLiveParameterTypes34 ="}, {"source_line_num": 2370, "source_line_code": "private static final Class<?>[] _schedulePublishToRemoteParameterTypes35 ="}, {"source_line_num": 2378, "source_line_code": "private static final Class<?>[] _setLayoutsParameterTypes36 = new Class[] {"}, {"source_line_num": 2382, "source_line_code": "private static final Class<?>[] _unschedulePublishToLiveParameterTypes37 ="}, {"source_line_num": 2384, "source_line_code": "private static final Class<?>[] _unschedulePublishToRemoteParameterTypes38 ="}, {"source_line_num": 2386, "source_line_code": "private static final Class<?>[] _updateIconImageParameterTypes39 ="}, {"source_line_num": 2388, "source_line_code": "private static final Class<?>[] _updateLayoutParameterTypes40 ="}, {"source_line_num": 2396, "source_line_code": "private static final Class<?>[] _updateLayoutParameterTypes41 ="}, {"source_line_num": 2404, "source_line_code": "private static final Class<?>[] _updateLayoutParameterTypes42 ="}, {"source_line_num": 2406, "source_line_code": "private static final Class<?>[] _updateLookAndFeelParameterTypes43 ="}, {"source_line_num": 2411, "source_line_code": "private static final Class<?>[] _updateNameParameterTypes44 = new Class[] {"}, {"source_line_num": 2414, "source_line_code": "private static final Class<?>[] _updateNameParameterTypes45 = new Class[] {"}, {"source_line_num": 2417, "source_line_code": "private static final Class<?>[] _updateParentLayoutIdParameterTypes46 ="}, {"source_line_num": 2419, "source_line_code": "private static final Class<?>[] _updateParentLayoutIdParameterTypes47 ="}, {"source_line_num": 2422, "source_line_code": "_updateParentLayoutIdAndPriorityParameterTypes48 = new Class[] {"}, {"source_line_num": 2425, "source_line_code": "private static final Class<?>[] _updatePriorityParameterTypes49 ="}, {"source_line_num": 2427, "source_line_code": "private static final Class<?>[] _updatePriorityParameterTypes50 ="}, {"source_line_num": 2431, "source_line_code": "private static final Class<?>[] _updatePriorityParameterTypes51 ="}, {"source_line_num": 2433, "source_line_code": "private static final Class<?>[] _updateTypeParameterTypes52 = new Class[] {"}], "filename": "portal-impl/src/com/liferay/portal/service/http/LayoutServiceHttp.java", "patch_func": "no", "diff_file": "liferay-portal_CVE-2021-33324_f7e89f2e44df24639d982d048876a1cc8dbc3b71.diff", "patch_tag": "7.4.2-ga3", "source_tag": "7.4.1-ga2"}]